<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />

  <title>Hello, world!</title>
</head>

<body>

  <div class="container ">
    <br>
    <a href="/svaPreduzeca" class="btn btn-outline-secondary w-100 text-center">Sva preduzeca</a>

    <div>
      <br>
      <div class="alert alert-danger" role="alert" id="alert" style="display: none;">
      </div>
      <form action="/izmeniPreduzece" method="POST" onsubmit="return validateForma()">
        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Kategorija" name="id" value="##{ID}" style="display: none"/>


        <input type="text" class="form-control" id="ime" placeholder="Ime lica" name="ime" value="##{ime}"  />
        <br>
        <input type="text" class="form-control" id="prezime" placeholder="Prezime lica" name="prezime" value="##{prezime}" />
        <br>
        <input type="text" class="form-control" id="telefon" placeholder="Telefon" name="telefon" value="##{telefon}"  />
        <br>
        <input type="email" class="form-control" id="mail" placeholder="Mejl" name="email" value="##{email}" />
        <br>
        <input type="text" class="form-control" id="naziv" placeholder="Naziv" name="naziv" value="##{naziv}" />
        <br>
        <input type="text" class="form-control" id="adresa" placeholder="Adresa" name="adresa" value="##{adresa}" />
        <br>
        <input type="text" class="form-control" id="pib" placeholder="PIB" name="pib" value="##{pib}" />
        <br>
        <button type="submit" class="btn btn-primary">Dodaj preduzece</button>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script>
    function validateForma() {
      document.getElementById("alert").innerHTML = ""
      var pattern = /\d{9}/;
      flag = true;
      if (document.querySelector("#ime").value == "") {
        document.getElementById("alert").innerHTML += "Niste popunili ime!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      if (document.querySelector("#prezime").value == "") {
        document.getElementById("alert").innerHTML += "Niste popunili prezime!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      if (document.querySelector("#telefon").value == "") {
        document.getElementById("alert").innerHTML += "Niste popunili telefon!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      //if(!regex check za telefon){}
      if (document.querySelector("#naziv").value == "") {
        document.getElementById("alert").innerHTML += "Proverite naziv!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      if (document.querySelector("#adresa").value == "") {
        document.getElementById("alert").innerHTML += "Niste popunili adresu!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      if (document.querySelector("#mail").value == "") {
        document.getElementById("alert").innerHTML += "Niste popunili mejl!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      if (document.querySelector("#pib").value == "") {
        document.getElementById("alert").innerHTML += "Niste popunili pib!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      
      if(!pattern.test(document.querySelector("#pib").value)){
        document.getElementById("alert").innerHTML += "Niste popunili pib u dobrom formatu!<br>"
        document.getElementById("alert").style.display="block"
        flag = false;
      }
      return flag;
    }
  </script>
</body>

</html>